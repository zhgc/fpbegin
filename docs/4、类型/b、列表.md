# 列表

haskell的列表和其他语言的列表看起来很相似。它由一组相同类型的元素组成。看上去类似这样：

```haskell
listA :: [a]
listA = [1,2,3,4,5,6,7]
```

一个a类型元素组成的列表，它的类型记作 `[a]`,不过，事实上你也可以写成`[] a`,这里的微妙变化在于`[]`实际上是一个函数，我们称为`类型构造函数`。

类型构造函数本身即是类型也是函数，它接受一个类型作为参数，返回一个新的类型。`[] a`其实就是将类型`a`作为参数应用于函数`[]`,然后获得一个新的类型`[a]`。我们姑且可以这样理解。

上面的内容在学习代数数据类型的时候会详细展开。现在先聚焦于列表本身。

# 列表构造方法

列表有两个`构造函数`。分别是`[]`和`:`。其中，`[]`可以接受一组新的数据，将他们构造成一个列表。而`:`则是接受一个列表和一个新元素，然后返回一个新列表，譬如，想要用1，2，3，4创造一个新列表，可以有两种方法。

```haskell
listA = [1,2,3,4]

listB = 1:2:3:4:[]

-- []也代表空列表
```

`[]`，本身就是一个列表，一个可以为任意类型的空列表。

需要注意一点，在这里提到的列表`构造函数`和`类型构造函数`虽然名字很像，长得也很像，但并不一样，构造函数创造的是某个类型的值，而类型构造函数创造的是类型本身。

只需要知道，类型构造函数只能在`::`后面使用就行了。

这也是代数数据类型的知识，会在后面展开，与之相关的概念还有**kind（种）**

# 列表元素

任何东西都可以是列表元素。

可以是数值，可以是元组，可以是字符串，可以是另一个列表，甚至是函数，所有你能写的出来的类型可以作为列表的元素

```haskell
[1,2,3,34,2,4]::[Int]
-- 整形列表

[1.2,1.0,1.3,3.14,2.718]::[Float]
-- 浮点型列表。

[[1,2,3],[4,5,6],[7,8,9]]::[[Int]]
-- 列表类型列表

[("小明",16),("小红",17),("小王",18)]::[(String,Int)]
-- 元组类型列表

[sin,cos,tan]::[a -> a]
-- 函数类型列表
```

但是有一点，那就是列表里装的元素类型必须相同。

```haskell
["hello",95827,map] -- 这样的列表就是非法的。
```

# 列表常用操作

首先是切片，常用python的人都对python的切片赞不绝口，haskell虽然不提供`[::]`这样的语法糖，但是提供了同样具有强大功能的函数来切片。

```haskell
listA = [1,2,3,4,5,6,7]

listB = take 3 listA
-- [1,2,3]

listC = drop 4 listA
-- [5,6,7]

listD = head listA
-- 1

listE = last listA
-- 7

listF = init listA
-- [1,2,3,4,5,6]

listG = tail listA
-- [2,3,4,5,6,7]
```

此外还可以灵活运用前面学过的函数组合。如果我想要取一个列表从第二到第5个元素，可以这样做

```haskell
(drop 1) . (take 4) [1,2,3,4,5,6,7]
-- [2,3,4,5]
```

我知道，python更简单，可以直接`listA[1:5]`，但是不要忘记haskell创造一个新函数有多方便。你可以这样做来重复使用

```haskell
dat a b = (drop a) . (take b)

listB = dat 1 5 listA
```

除此之外，`reverse`函数可以将列表反转，`++`可以连接两个类型相同的列表。

下篇文章介绍列表的一些高级特性。